{% extends "sitebase.html" %}

{% load crispy_forms_tags %}

{% block page_title %}Create an Incident Report{% endblock %}

{% block metatags %}
    <meta name="robots" content="noindex">
{% endblock %}

{% block extra_styles %}
.control-label {
    color: darkblue;
    font-size: 1.20em;
    font-weight:400;
}

.form-group{
    padding-bottom: 12px;
}

input[type=text] {
    color: blue;
    font-size: 1.10em;
    font-weight: 400;
}

input[type=hidden] {
    color: blue;
    font-size: 1.10em;
    font-weight: 400;
}

.select{
    font-size: 1.10em;
    font-weight: 600;
}


.asteriskField{
    font-size:1.40em;
    font-weight: 600;
    font-color: blue;
    vertical-align: middle;
}

{% endblock %}

  {% block extra_css_or_js %}
  {# moved here on 12.22.14, the drop-down menu was experiencing and javascript collision or something when it loaded at the bottom #}
  <!-- this is used for datepicker -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link href="/static/css/bootstrap-timepicker.min.css" rel="stylesheet">
    <script src="/static/js/bootstrap-timepicker.js"></script>

    <script src="/static/js/incident-form-map.js?v=20251209c"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ GOOGLE_MAPS_API_KEY }}&libraries=places&callback=initMap" type="text/javascript"></script>

  {% endblock %}

{%block navigation %}{% include '_nav-loggedin.html' %} {% endblock %}

{% block content %}
    <p style="color:red; padding-top:20px; padding-bottom:20px;">Please, <i>please</i>, <strong>please</strong> follow the directions below. This is a volunteer effort and the future of this site depends on your cooperation and courtesy: I cannot manage it in my spare time if people do not follow directions. Take your time and be thoughtful. If the form does not submit, please scan this page for error messages. </p>

    <p class="alert alert-success" role="alert" style="padding: 10px 20px; 10px; 20px; ">Start your Incident Report by typing an address into the box below. You do not need to know the street number but start with the road name if you know it (e.g., Olde Stage Rd, Boulder, CO). Drag the marker to the precise location. Zoom in and out as needed. </p>


{% comment %}
You should just use action="" since it will post to the url the page was generated by. <-- theoretically, this can be used by
both the CreateView and UpdateView
<form action="{% url "create-incident" %}" method="POST">
{% endcomment %}

<form action="" method="POST">
  {% csrf_token %}

    {# {{ form.as_p }} THIS POSTS#}
      {{ form.media }}
      {{ form|crispy }}

  {#  <input type="submit" value="Save" />  #}
  <input type="submit" class="btn btn-default" value=" Submit Report " />
</form>

{% block extra_script %}


<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/flick/jquery-ui.css" />


{% comment %}

This starts to work, locally. Need to dig into it a bit to get the initialization right I think
UNCOMMENT THE .datepicker below

http://jonthornton.github.io/jquery-timepicker/

<!-- timepicker start -->

  <script type="text/javascript" src="/static/js/jquery-timepicker/jquery.timepicker.js"></script>
  <link rel="stylesheet" type="text/css" href="jquery.timepicker.css" />

  <script type="text/javascript" src="/static/js/jquery-timepicker/lib/bootstrap-datepicker.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap-datepicker.css" />

  <script type="text/javascript" src="/static/js/jquery-timepicker/lib/site.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/site.css" />

  <!-- timepicker end -->

{% endcomment %}

    <script>
        $(function() {
        $( ".datePicker" ).datepicker();
        });
    </script>


{% endblock %}


{% endblock %}

